{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\src\\\\pages\\\\equipmentManager\\\\equipmentManager.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Card, CardHeader, CardTitle, Table } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { toastr } from \"react-redux-toastr\";\nimport Row from \"reactstrap/lib/Row\";\nimport Col from \"reactstrap/lib/Col\";\nimport Modal from \"reactstrap/lib/Modal\";\nimport { getListEquipmentAction } from \"../../redux/actions/equipmentAction\";\nimport { selectListEquipment, selectPage, selectSize, selectTotalElement } from \"../../redux/selectors/equipmentSelector\";\nimport EquipmentApi from \"../../api/EquipmentApi\";\nimport StaffApi from \"../../api/StaffApi\";\nimport TableEquipmentCustom from \"./customTable\";\nimport CustomSearch from \"./customSearch\";\nimport CreateEquipmentForm from \"./createdEquipForm\";\nimport UpdateEquipmentForm from \"./updateEquipForm\";\nimport { selectUserInfo } from \"../../redux/selectors/userLoginInfoSelector\";\nimport Storage from \"../../Storage/Storage\";\nimport WarningRepairForm from \"./warningForm\";\nimport DetailEquipmentModal from \"./detailModal\";\n\nvar EquipmentManager = function EquipmentManager(props) {\n  var getListEquipmentAction = props.getListEquipmentAction;\n  var size = props.size;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpenModalCreate = _useState4[0],\n      setOpenModalCreate = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isOpenModalUpdate = _useState6[0],\n      setOpenModalUpdate = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isOpenModalRepair = _useState8[0],\n      setOpenModalRepair = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isOpenModalDetail = _useState10[0],\n      setOpenModalDetail = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      search = _useState12[0],\n      setSearch = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      authorite = _useState14[0],\n      setAuthorite = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      equipmentNoPage = _useState16[0],\n      setequipmentNoPage = _useState16[1]; //SHOW SUCCESS NOTIFICATION\n\n\n  var showSuccessNotification = function showSuccessNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    };\n    toastr.success(title, message, options);\n  };\n\n  useEffect(function () {\n    var getAllEquipment = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var user, result, result2, equipments0, equipments, totalSize;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                user = Storage.getUserInfo();\n                _context.next = 3;\n                return EquipmentApi.getAll(page, size);\n\n              case 3:\n                result = _context.sent;\n\n                if (user.email == \"nvva0907@gmail.com\" && user.userName == \"minhduc9999\" && user.role == \"Admin\") {\n                  setAuthorite(true);\n                } else {\n                  setAuthorite(false);\n                } ///\n                ///\n\n\n                _context.next = 7;\n                return EquipmentApi.getAll(page, result.totalElements);\n\n              case 7:\n                result2 = _context.sent;\n                equipments0 = result2.content;\n\n                if (equipmentNoPage.length == 0) {\n                  setequipmentNoPage(equipments0);\n                }\n\n                equipments = result.content;\n                totalSize = result.totalElements;\n                getListEquipmentAction(equipments, page, totalSize);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getAllEquipment() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getAllEquipment();\n  }, [authorite, getListEquipmentAction, size, page]); //DELETE EQUIPMENT\n\n  var deleteEquipment = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(authorite == true)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 3;\n              return EquipmentApi.deleteById(id);\n\n            case 3:\n              showSuccessNotification(\"Delete Equipment\", \"Delete Equipment Successfully!\");\n              window.location.reload();\n              _context2.next = 8;\n              break;\n\n            case 7:\n              alert(\"Bạn không phải Admin, không được thực hiện thao tác này\");\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteEquipment(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // UPDATE EQUIPMENT\n\n\n  var onClickUpdate = function onClickUpdate(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\n    sessionStorage.setItem(\"classify\", classify);\n    sessionStorage.setItem(\"description\", description);\n    sessionStorage.setItem(\"brand\", brand);\n    sessionStorage.setItem(\"staffName\", staffName);\n    sessionStorage.setItem(\"insurance\", insurance);\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\n    setOpenModalUpdate(true);\n  }; // BÁO HỎNG\n\n\n  var _onClickWarning = function onClickWarning(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\n    sessionStorage.setItem(\"classify\", classify);\n    sessionStorage.setItem(\"description\", description);\n    sessionStorage.setItem(\"brand\", brand);\n    sessionStorage.setItem(\"staffName\", staffName);\n    sessionStorage.setItem(\"insurance\", insurance);\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\n    setOpenModalRepair(true);\n  }; //DETAIL THIẾT BỊ\n\n\n  var _onClickDetail = function onClickDetail(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\n    sessionStorage.setItem(\"classify\", classify);\n    sessionStorage.setItem(\"description\", description);\n    sessionStorage.setItem(\"brand\", brand);\n    sessionStorage.setItem(\"staffName\", staffName);\n    sessionStorage.setItem(\"insurance\", insurance);\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\n    setOpenModalDetail(true);\n  };\n\n  var dataTable = props.equipments.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(TableEquipmentCustom, {\n      key: index,\n      data: item // DELETE\n      ,\n      onClickDelete: function onClickDelete(id) {\n        return deleteEquipment(id);\n      } //UPDATE\n      ,\n      onClickUpdating: function onClickUpdating(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n        onClickUpdate(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus);\n      } //BÁO HỎNG\n      ,\n      onClickWarning: function onClickWarning(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n        return _onClickWarning(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus);\n      } // DEtail thiết bị\n      ,\n      onClickDetail: function onClickDetail(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus) {\n        return _onClickDetail(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    });\n  });\n\n  var handelAdd = function handelAdd() {\n    setOpenModalCreate(true);\n  };\n\n  var _handleSearch = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return EquipmentApi.getLikeName(name);\n\n            case 2:\n              result = _context3.sent;\n              getListEquipmentAction(result, 1, 1);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleSearch(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var _onClickBack = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var result, eq;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return EquipmentApi.getAll(1, 5);\n\n            case 2:\n              result = _context4.sent;\n              eq = result.content;\n              getListEquipmentAction(eq, 1, 1);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onClickBack() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    tag: \"h5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, \"Thi\\u1EBFt b\\u1ECB y t\\u1EBF \")), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      alignItems: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomSearch, {\n    handleSearch: function handleSearch(name) {\n      return _handleSearch(name);\n    },\n    openCreateModal: function openCreateModal() {\n      return handelAdd();\n    },\n    onClickBack: function onClickBack() {\n      return _onClickBack();\n    },\n    data: equipmentNoPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"12%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, \"M\\xE3 thi\\u1EBFt b\\u1ECB\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"10%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 15\n    }\n  }, \"Tr\\u1EA1ng th\\xE1i\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"18%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 15\n    }\n  }, \"T\\xEAn thi\\u1EBFt b\\u1ECB\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"20%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, \"M\\xF4 t\\u1EA3 thi\\u1EBFt b\\u1ECB\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"18%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, \"Nh\\xE2n vi\\xEAn qu\\u1EA3n l\\xFD\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: \"10%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, \"Ph\\xE2n lo\\u1EA1i\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }, \"Actions\"))), dataTable)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"Page navigation example\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-link\",\n    \"aria-label\": \"Previous\",\n    onClick: function onClick() {\n      return setPage(page - 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 17\n    }\n  }, \"\\xAB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, \"Previous\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-link\",\n    onClick: function onClick() {\n      return setPage(1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, \"1\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-link\",\n    onClick: function onClick() {\n      return setPage(2);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 15\n    }\n  }, \"2\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    onClick: function onClick() {\n      return setPage(3);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 15\n    }\n  }, \"3\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-link\",\n    href: \"#\",\n    \"aria-label\": \"Next\",\n    onClick: function onClick() {\n      return setPage(page + 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, \"\\xBB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, \"Next\")))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpenModalCreate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CreateEquipmentForm, {\n    closeModal: function closeModal() {\n      return setOpenModalCreate(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpenModalUpdate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UpdateEquipmentForm, {\n    closeModal: function closeModal() {\n      return setOpenModalUpdate(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpenModalRepair,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(WarningRepairForm, {\n    closeModal: function closeModal() {\n      return setOpenModalRepair(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpenModalDetail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DetailEquipmentModal, {\n    closeModal: function closeModal() {\n      return setOpenModalDetail(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar mapGlobalStateToProps = function mapGlobalStateToProps(state) {\n  return {\n    equipments: selectListEquipment(state),\n    page: selectPage(state),\n    size: selectSize(state),\n    totalElement: selectTotalElement(state),\n    userInfo: selectUserInfo(state)\n  };\n};\n\nexport default connect(mapGlobalStateToProps, {\n  getListEquipmentAction: getListEquipmentAction\n})(EquipmentManager);","map":{"version":3,"sources":["E:/Đồ án web/Project Web Đồ Án bản cuối/codeguidi/codeguidi/Frontend/src/pages/equipmentManager/equipmentManager.js"],"names":["React","useEffect","useState","Card","CardHeader","CardTitle","Table","connect","toastr","Row","Col","Modal","getListEquipmentAction","selectListEquipment","selectPage","selectSize","selectTotalElement","EquipmentApi","StaffApi","TableEquipmentCustom","CustomSearch","CreateEquipmentForm","UpdateEquipmentForm","selectUserInfo","Storage","WarningRepairForm","DetailEquipmentModal","EquipmentManager","props","size","page","setPage","isOpenModalCreate","setOpenModalCreate","isOpenModalUpdate","setOpenModalUpdate","isOpenModalRepair","setOpenModalRepair","isOpenModalDetail","setOpenModalDetail","search","setSearch","authorite","setAuthorite","equipmentNoPage","setequipmentNoPage","showSuccessNotification","title","message","options","timeOut","showCloseButton","progressBar","position","success","getAllEquipment","user","getUserInfo","getAll","result","email","userName","role","totalElements","result2","equipments0","content","length","equipments","totalSize","deleteEquipment","id","deleteById","window","location","reload","alert","onClickUpdate","equipmentId","equipmentName","classify","description","brand","staffName","insurance","equipmentStatus","sessionStorage","setItem","onClickWarning","onClickDetail","dataTable","map","item","index","handelAdd","handleSearch","name","getLikeName","onClickBack","eq","alignItems","width","mapGlobalStateToProps","state","totalElement","userInfo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Card, CardHeader, CardTitle, Table } from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport Row from \"reactstrap/lib/Row\";\r\nimport Col from \"reactstrap/lib/Col\";\r\nimport Modal from \"reactstrap/lib/Modal\";\r\n\r\nimport { getListEquipmentAction } from \"../../redux/actions/equipmentAction\";\r\nimport {\r\n  selectListEquipment,\r\n  selectPage,\r\n  selectSize,\r\n  selectTotalElement,\r\n} from \"../../redux/selectors/equipmentSelector\";\r\nimport EquipmentApi from \"../../api/EquipmentApi\";\r\nimport StaffApi from \"../../api/StaffApi\";\r\nimport TableEquipmentCustom from \"./customTable\";\r\nimport CustomSearch from \"./customSearch\";\r\nimport CreateEquipmentForm from \"./createdEquipForm\";\r\nimport UpdateEquipmentForm from \"./updateEquipForm\";\r\nimport { selectUserInfo } from \"../../redux/selectors/userLoginInfoSelector\";\r\nimport Storage from \"../../Storage/Storage\";\r\nimport WarningRepairForm from \"./warningForm\";\r\nimport DetailEquipmentModal from \"./detailModal\";\r\nconst EquipmentManager = (props) => {\r\n  const getListEquipmentAction = props.getListEquipmentAction;\r\n  const size = props.size;\r\n  const [page, setPage] = useState(1);\r\n  const [isOpenModalCreate, setOpenModalCreate] = useState(false);\r\n  const [isOpenModalUpdate, setOpenModalUpdate] = useState(false);\r\n  const [isOpenModalRepair, setOpenModalRepair] = useState(false);\r\n  const [isOpenModalDetail, setOpenModalDetail] = useState(false);\r\n  const [search, setSearch] = useState(false);\r\n  const [authorite, setAuthorite] = useState(false);\r\n  const [equipmentNoPage, setequipmentNoPage] = useState([]);\r\n  //SHOW SUCCESS NOTIFICATION\r\n  const showSuccessNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: false,\r\n      position: \"top-right\",\r\n    };\r\n    toastr.success(title, message, options);\r\n  };\r\n  useEffect(() => {\r\n    const getAllEquipment = async () => {\r\n      const user = Storage.getUserInfo();\r\n      const result = await EquipmentApi.getAll(page, size);\r\n\r\n      if (\r\n        user.email == \"nvva0907@gmail.com\" &&\r\n        user.userName == \"minhduc9999\" &&\r\n        user.role == \"Admin\"\r\n      ) {\r\n        setAuthorite(true);\r\n      } else {\r\n        setAuthorite(false);\r\n      }\r\n      ///\r\n\r\n      ///\r\n      const result2 = await EquipmentApi.getAll(page, result.totalElements);\r\n      const equipments0 = result2.content;\r\n      if (equipmentNoPage.length == 0) {\r\n        setequipmentNoPage(equipments0);\r\n      }\r\n      const equipments = result.content;\r\n      const totalSize = result.totalElements;\r\n      getListEquipmentAction(equipments, page, totalSize);\r\n    };\r\n\r\n    getAllEquipment();\r\n  }, [authorite, getListEquipmentAction, size, page]);\r\n  //DELETE EQUIPMENT\r\n  const deleteEquipment = async (id) => {\r\n    if (authorite == true) {\r\n      await EquipmentApi.deleteById(id);\r\n      showSuccessNotification(\r\n        \"Delete Equipment\",\r\n        \"Delete Equipment Successfully!\"\r\n      );\r\n      window.location.reload();\r\n    } else {\r\n      alert(\"Bạn không phải Admin, không được thực hiện thao tác này\");\r\n    }\r\n  };\r\n\r\n  // UPDATE EQUIPMENT\r\n  const onClickUpdate = (\r\n    equipmentId,\r\n    equipmentName,\r\n    classify,\r\n    description,\r\n    brand,\r\n    staffName,\r\n    insurance,\r\n    equipmentStatus\r\n  ) => {\r\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\r\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\r\n    sessionStorage.setItem(\"classify\", classify);\r\n    sessionStorage.setItem(\"description\", description);\r\n    sessionStorage.setItem(\"brand\", brand);\r\n    sessionStorage.setItem(\"staffName\", staffName);\r\n    sessionStorage.setItem(\"insurance\", insurance);\r\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\r\n    setOpenModalUpdate(true);\r\n  };\r\n  // BÁO HỎNG\r\n  const onClickWarning = (\r\n    equipmentId,\r\n    equipmentName,\r\n    classify,\r\n    description,\r\n    brand,\r\n    staffName,\r\n    insurance,\r\n    equipmentStatus\r\n  ) => {\r\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\r\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\r\n    sessionStorage.setItem(\"classify\", classify);\r\n    sessionStorage.setItem(\"description\", description);\r\n    sessionStorage.setItem(\"brand\", brand);\r\n    sessionStorage.setItem(\"staffName\", staffName);\r\n    sessionStorage.setItem(\"insurance\", insurance);\r\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\r\n    setOpenModalRepair(true);\r\n  };\r\n  //DETAIL THIẾT BỊ\r\n  const onClickDetail = (\r\n    equipmentId,\r\n    equipmentName,\r\n    classify,\r\n    description,\r\n    brand,\r\n    staffName,\r\n    insurance,\r\n    equipmentStatus\r\n  ) => {\r\n    sessionStorage.setItem(\"equipmentId\", equipmentId);\r\n    sessionStorage.setItem(\"equipmentName\", equipmentName);\r\n    sessionStorage.setItem(\"classify\", classify);\r\n    sessionStorage.setItem(\"description\", description);\r\n    sessionStorage.setItem(\"brand\", brand);\r\n    sessionStorage.setItem(\"staffName\", staffName);\r\n    sessionStorage.setItem(\"insurance\", insurance);\r\n    sessionStorage.setItem(\"equipmentStatus\", equipmentStatus);\r\n    setOpenModalDetail(true);\r\n  };\r\n  const dataTable = props.equipments.map((item, index) => {\r\n    return (\r\n      <TableEquipmentCustom\r\n        key={index}\r\n        data={item}\r\n        // DELETE\r\n        onClickDelete={(id) => deleteEquipment(id)}\r\n        //UPDATE\r\n        onClickUpdating={(\r\n          equipmentId,\r\n          equipmentName,\r\n          classify,\r\n          description,\r\n          brand,\r\n          staffName,\r\n          insurance,\r\n          equipmentStatus\r\n        ) => {\r\n          onClickUpdate(\r\n            equipmentId,\r\n            equipmentName,\r\n            classify,\r\n            description,\r\n            brand,\r\n            staffName,\r\n            insurance,\r\n            equipmentStatus\r\n          );\r\n        }}\r\n        //BÁO HỎNG\r\n        onClickWarning={(\r\n          equipmentId,\r\n          equipmentName,\r\n          classify,\r\n          description,\r\n          brand,\r\n          staffName,\r\n          insurance,\r\n          equipmentStatus\r\n        ) =>\r\n          onClickWarning(\r\n            equipmentId,\r\n            equipmentName,\r\n            classify,\r\n            description,\r\n            brand,\r\n            staffName,\r\n            insurance,\r\n            equipmentStatus\r\n          )\r\n        }\r\n        // DEtail thiết bị\r\n        onClickDetail={(\r\n          equipmentId,\r\n          equipmentName,\r\n          classify,\r\n          description,\r\n          brand,\r\n          staffName,\r\n          insurance,\r\n          equipmentStatus\r\n        ) =>\r\n          onClickDetail(\r\n            equipmentId,\r\n            equipmentName,\r\n            classify,\r\n            description,\r\n            brand,\r\n            staffName,\r\n            insurance,\r\n            equipmentStatus\r\n          )\r\n        }\r\n      />\r\n    );\r\n  });\r\n  const handelAdd = () => {\r\n    setOpenModalCreate(true);\r\n  };\r\n  const handleSearch = async (name) => {\r\n    const result = await EquipmentApi.getLikeName(name);\r\n    getListEquipmentAction(result, 1, 1);\r\n  };\r\n  const onClickBack = async () => {\r\n    const result = await EquipmentApi.getAll(1, 5);\r\n    const eq = result.content;\r\n    getListEquipmentAction(eq, 1, 1);\r\n  };\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle tag=\"h5\">Thiết bị y tế </CardTitle>\r\n        </CardHeader>\r\n        <Row style={{ alignItems: \"flex-end\" }}>\r\n          <Col xs=\"9\">\r\n            <CustomSearch\r\n              handleSearch={(name) => handleSearch(name)}\r\n              openCreateModal={() => handelAdd()}\r\n              onClickBack={() => onClickBack()}\r\n              data={equipmentNoPage}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Table>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ width: \"12%\" }}>Mã thiết bị</th>\r\n              <th style={{ width: \"10%\" }}>Trạng thái</th>\r\n              <th style={{ width: \"18%\" }}>Tên thiết bị</th>\r\n              <th style={{ width: \"20%\" }}>Mô tả thiết bị</th>\r\n              <th style={{ width: \"18%\" }}>Nhân viên quản lý</th>\r\n              <th style={{ width: \"10%\" }}>Phân loại</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          {dataTable}\r\n        </Table>\r\n      </Card>\r\n      <div>\r\n        <nav aria-label=\"Page navigation example\">\r\n          <ul className=\"pagination\">\r\n            <li className=\"page-item\">\r\n              <p\r\n                className=\"page-link\"\r\n                aria-label=\"Previous\"\r\n                onClick={() => setPage(page - 1)}\r\n              >\r\n                <span aria-hidden=\"true\">&laquo;</span>\r\n                <span className=\"sr-only\">Previous</span>\r\n              </p>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <p className=\"page-link\" onClick={() => setPage(1)}>\r\n                1\r\n              </p>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <p className=\"page-link\" onClick={() => setPage(2)}>\r\n                2\r\n              </p>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <a className=\"page-link\" onClick={() => setPage(3)}>\r\n                3\r\n              </a>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <p\r\n                className=\"page-link\"\r\n                href=\"#\"\r\n                aria-label=\"Next\"\r\n                onClick={() => setPage(page + 1)}\r\n              >\r\n                <span aria-hidden=\"true\">&raquo;</span>\r\n                <span className=\"sr-only\">Next</span>\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      {/* ModelCreate */}\r\n      <Modal isOpen={isOpenModalCreate}>\r\n        <CreateEquipmentForm closeModal={() => setOpenModalCreate(false)} />\r\n      </Modal>\r\n      {/* ModelUpdate */}\r\n      <Modal isOpen={isOpenModalUpdate}>\r\n        <UpdateEquipmentForm closeModal={() => setOpenModalUpdate(false)} />\r\n      </Modal>\r\n      {/* ModelWarning */}\r\n      <Modal isOpen={isOpenModalRepair}>\r\n        <WarningRepairForm closeModal={() => setOpenModalRepair(false)} />\r\n      </Modal>\r\n      {/* ModelDetail */}\r\n      <Modal isOpen={isOpenModalDetail}>\r\n        <DetailEquipmentModal closeModal={() => setOpenModalDetail(false)} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\nconst mapGlobalStateToProps = (state) => {\r\n  return {\r\n    equipments: selectListEquipment(state),\r\n    page: selectPage(state),\r\n    size: selectSize(state),\r\n    totalElement: selectTotalElement(state),\r\n    userInfo: selectUserInfo(state),\r\n  };\r\n};\r\nexport default connect(mapGlobalStateToProps, { getListEquipmentAction })(\r\n  EquipmentManager\r\n);\r\n"]},"metadata":{},"sourceType":"module"}