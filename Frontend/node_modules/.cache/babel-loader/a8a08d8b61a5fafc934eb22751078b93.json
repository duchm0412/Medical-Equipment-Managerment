{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\src\\\\pages\\\\departmentManager\\\\updateDepartmentForm.js\";\n\nimport React from \"react\";\nimport { Button, Card, CardBody, FormGroup } from \"reactstrap\";\nimport { Formik, FastField, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { ReactstrapInput } from \"reactstrap-formik\";\nimport api from \"../../api/DepartmentApi\";\nimport { toastr } from \"react-redux-toastr\";\n\nvar UpdateDepartmentForm = function UpdateDepartmentForm(props) {\n  var showSuccessNotification = function showSuccessNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    };\n    toastr.success(title, message, options);\n  };\n\n  var removeDepartmentInStorage = function removeDepartmentInStorage() {\n    sessionStorage.removeItem(\"departmentId\");\n    sessionStorage.removeItem(\"departmentName\");\n    sessionStorage.removeItem(\"description\");\n    sessionStorage.removeItem(\"manager\");\n    sessionStorage.removeItem(\"status\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      departmentId: sessionStorage.getItem(\"departmentId\"),\n      departmentName: sessionStorage.getItem(\"departmentName\"),\n      description: sessionStorage.getItem(\"description\"),\n      manager: sessionStorage.getItem(\"manager\"),\n      status: sessionStorage.getItem(\"status\"),\n      errorForm: \"\"\n    },\n    validationSchema: Yup.object({\n      departmentName: Yup.string().max(50, \"Must be less than 50 characters or equal\").required(\"Required\").test(\"checkUniqueDepartmentName\", \"This departmentName is already exists.\", /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(departmentName) {\n          var isExists;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return api.existsByDepartmentName(departmentName);\n\n                case 2:\n                  isExists = _context.sent;\n                  return _context.abrupt(\"return\", !isExists);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()),\n      description: Yup.string().max(800, \"Must be lessthan 800 characters \").required(\"Required\"),\n      manager: Yup.string().max(50, \"Must be lessthan 50 characters \").required(\"Required\"),\n      status: Yup.string().required(\"Required\").test(\"checkUniqueDepartmentName\", \"Vui lòng nhập vào 'Sẵn sàng' hoặc 'Chưa sẵn sàng'.\", function (status) {\n        if (status.match(\"Sẵn sàng\") || status.match(\"Chưa sẵn sàng\")) {\n          return true;\n        }\n\n        return false;\n      })\n    }),\n    onSubmit: /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values, _ref2) {\n        var setFieldError;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setFieldError = _ref2.setFieldError;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return api.update(values.departmentId, values.departmentName, values.description, values.manager, values.status);\n\n              case 4:\n                showSuccessNotification(\"Update Department\", \"Update Department Successfully!\");\n                removeDepartmentInStorage();\n                window.location.reload();\n                _context2.next = 13;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](1);\n                setFieldError(\"errorForm\", \"There is an error from the server\");\n                console.log(_context2.t0);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 9]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    validateOnChange: false,\n    validateOnBlur: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, function (_ref4) {\n    var isSubmitting = _ref4.isSubmitting;\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m-sm-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"M\\xE3 ph\\xF2ng ban\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"departmentId\",\n      readonly: \"readonly\",\n      placeholder: \"\\u0110i\\u1EC1n v\\xE0o m\\xE3 ph\\xF2ng ban\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"T\\xEAn ph\\xF2ng ban\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"departmentName\",\n      placeholder: \"\\u0110i\\u1EC1n v\\xE0o t\\xEAn ph\\xF2ng ban\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"M\\xF4 t\\u1EA3\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"description\",\n      placeholder: \"M\\xF4 t\\u1EA3 ph\\xF2ng ban\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Qu\\u1EA3n l\\xFD ph\\xF2ng ban\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"manager\",\n      placeholder: \"Qu\\u1EA3n l\\xFD ph\\xF2ng ban\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"Tr\\u1EA1ng th\\xE1i ph\\xF2ng ban\",\n      name: \"status\",\n      placeholder: \"S\\u1EB5n s\\xE0ng/ Ch\\u01B0a s\\u1EB5n s\\xE0ng\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: \"errorForm\",\n      component: \"div\",\n      className: \"invalid-feedback\",\n      style: {\n        display: \"block\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: \"right\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      size: \"sm\",\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"C\\u1EADp nh\\u1EADt\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      size: \"sm\",\n      onClick: props.closeModal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\xF3ng\"))))));\n  }));\n};\n\nexport default UpdateDepartmentForm;","map":{"version":3,"sources":["E:/Đồ án web/Project Web Đồ Án bản cuối/codeguidi/codeguidi/Frontend/src/pages/departmentManager/updateDepartmentForm.js"],"names":["React","Button","Card","CardBody","FormGroup","Formik","FastField","Form","ErrorMessage","Yup","ReactstrapInput","api","toastr","UpdateDepartmentForm","props","showSuccessNotification","title","message","options","timeOut","showCloseButton","progressBar","position","success","removeDepartmentInStorage","sessionStorage","removeItem","departmentId","getItem","departmentName","description","manager","status","errorForm","object","string","max","required","test","existsByDepartmentName","isExists","match","values","setFieldError","update","window","location","reload","console","log","isSubmitting","display","float","closeModal"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Card, CardBody, FormGroup } from \"reactstrap\";\r\nimport { Formik, FastField, Form, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { ReactstrapInput } from \"reactstrap-formik\";\r\nimport api from \"../../api/DepartmentApi\";\r\nimport { toastr } from \"react-redux-toastr\";\r\n\r\nconst UpdateDepartmentForm = (props) => {\r\n  const showSuccessNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: false,\r\n      position: \"top-right\",\r\n    };\r\n    toastr.success(title, message, options);\r\n  };\r\n  const removeDepartmentInStorage = () => {\r\n    sessionStorage.removeItem(\"departmentId\");\r\n    sessionStorage.removeItem(\"departmentName\");\r\n    sessionStorage.removeItem(\"description\");\r\n    sessionStorage.removeItem(\"manager\");\r\n    sessionStorage.removeItem(\"status\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          departmentId: sessionStorage.getItem(\"departmentId\"),\r\n          departmentName: sessionStorage.getItem(\"departmentName\"),\r\n          description: sessionStorage.getItem(\"description\"),\r\n          manager: sessionStorage.getItem(\"manager\"),\r\n          status: sessionStorage.getItem(\"status\"),\r\n          errorForm: \"\",\r\n        }}\r\n        validationSchema={Yup.object({\r\n          departmentName: Yup.string()\r\n            .max(50, \"Must be less than 50 characters or equal\")\r\n            .required(\"Required\")\r\n            .test(\r\n              \"checkUniqueDepartmentName\",\r\n              \"This departmentName is already exists.\",\r\n              async (departmentName) => {\r\n                const isExists = await api.existsByDepartmentName(\r\n                  departmentName\r\n                );\r\n                return !isExists;\r\n              }\r\n            ),\r\n\r\n          description: Yup.string()\r\n            .max(800, \"Must be lessthan 800 characters \")\r\n            .required(\"Required\"),\r\n          manager: Yup.string()\r\n            .max(50, \"Must be lessthan 50 characters \")\r\n            .required(\"Required\"),\r\n          status: Yup.string()\r\n            .required(\"Required\")\r\n            .test(\r\n              \"checkUniqueDepartmentName\",\r\n              \"Vui lòng nhập vào 'Sẵn sàng' hoặc 'Chưa sẵn sàng'.\",\r\n              (status) => {\r\n                if (status.match(\"Sẵn sàng\") || status.match(\"Chưa sẵn sàng\")) {\r\n                  return true;\r\n                }\r\n                return false;\r\n              }\r\n            ),\r\n        })}\r\n        onSubmit={async (values, { setFieldError }) => {\r\n          try {\r\n            await api.update(\r\n              values.departmentId,\r\n              values.departmentName,\r\n              values.description,\r\n              values.manager,\r\n              values.status\r\n            );\r\n\r\n            showSuccessNotification(\r\n              \"Update Department\",\r\n              \"Update Department Successfully!\"\r\n            );\r\n            removeDepartmentInStorage();\r\n            window.location.reload();\r\n          } catch (error) {\r\n            setFieldError(\"errorForm\", \"There is an error from the server\");\r\n            console.log(error);\r\n          }\r\n        }}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Card>\r\n            <CardBody>\r\n              <div className=\"m-sm-4\">\r\n                <Form>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Mã phòng ban\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"departmentId\"\r\n                      readonly=\"readonly\"\r\n                      placeholder=\"Điền vào mã phòng ban\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Tên phòng ban\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"departmentName\"\r\n                      placeholder=\"Điền vào tên phòng ban\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Mô tả\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"description\"\r\n                      placeholder=\"Mô tả phòng ban\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Quản lý phòng ban\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"manager\"\r\n                      placeholder=\"Quản lý phòng ban\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Trạng thái phòng ban\"\r\n                      name=\"status\"\r\n                      placeholder=\"Sẵn sàng/ Chưa sẵn sàng\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <ErrorMessage\r\n                    name=\"errorForm\"\r\n                    component={\"div\"}\r\n                    className=\"invalid-feedback\"\r\n                    style={{ display: \"block\" }}\r\n                  />\r\n                  <div style={{ float: \"right\" }}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      color=\"primary\"\r\n                      size=\"sm\"\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Cập nhật\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"sm\"\r\n                      onClick={props.closeModal}\r\n                    >\r\n                      Đóng\r\n                    </Button>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateDepartmentForm;\r\n"]},"metadata":{},"sourceType":"module"}