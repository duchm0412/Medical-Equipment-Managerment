{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\src\\\\components\\\\Sidebar.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Badge, Collapse } from \"reactstrap\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCircle, faLaptopMedical } from \"@fortawesome/free-solid-svg-icons\";\nimport routes from \"../routes/index\";\nimport avatar from \"../assets/img/avatars/avatar.jpg\";\nimport { selectFullname } from \"../redux/selectors/userLoginInfoSelector\";\nimport UserApi from \"../api/UserApi\";\n\nvar initOpenRoutes = function initOpenRoutes(location) {\n  /* Open collapse element that matches current url */\n  var pathName = location.pathname;\n  var _routes = {};\n  routes.forEach(function (route, index) {\n    var isActive = pathName.indexOf(route.path) === 0;\n    var isOpen = route.open;\n    var isHome = route.containsHome && pathName === \"/\" ? true : false;\n    _routes = Object.assign({}, _routes, _defineProperty({}, index, isActive || isOpen || isHome));\n  });\n  return _routes;\n};\n\nvar SidebarCategory = withRouter(function (_ref) {\n  var name = _ref.name,\n      badgeColor = _ref.badgeColor,\n      badgeText = _ref.badgeText,\n      Icon = _ref.icon,\n      isOpen = _ref.isOpen,\n      children = _ref.children,\n      onClick = _ref.onClick,\n      location = _ref.location,\n      to = _ref.to;\n\n  var getSidebarItemClass = function getSidebarItemClass(path) {\n    return location.pathname.indexOf(path) !== -1 || location.pathname === \"/\" && path === \"/dashboard\" ? \"active\" : \"\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"sidebar-item \" + getSidebarItemClass(to),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"data-toggle\": \"collapse\",\n    className: \"sidebar-link \" + (!isOpen ? \"collapsed\" : \"\"),\n    onClick: onClick,\n    \"aria-expanded\": isOpen ? \"true\" : \"false\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    size: 18,\n    className: \"align-middle mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, name), badgeColor && badgeText ? /*#__PURE__*/React.createElement(Badge, {\n    color: badgeColor,\n    size: 18,\n    className: \"sidebar-badge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, badgeText) : null), /*#__PURE__*/React.createElement(Collapse, {\n    isOpen: isOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"item\",\n    className: \"sidebar-dropdown list-unstyled\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, children)));\n});\nvar SidebarItem = withRouter(function (_ref2) {\n  var name = _ref2.name,\n      badgeColor = _ref2.badgeColor,\n      badgeText = _ref2.badgeText,\n      Icon = _ref2.icon,\n      location = _ref2.location,\n      to = _ref2.to;\n\n  var getSidebarItemClass = function getSidebarItemClass(path) {\n    return location.pathname === path ? \"active\" : \"\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"sidebar-item \" + getSidebarItemClass(to),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: to,\n    className: \"sidebar-link\",\n    activeClassName: \"active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, Icon ? /*#__PURE__*/React.createElement(Icon, {\n    size: 18,\n    className: \"align-middle mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }) : null, name, badgeColor && badgeText ? /*#__PURE__*/React.createElement(Badge, {\n    color: badgeColor,\n    size: 18,\n    className: \"sidebar-badge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, badgeText) : null));\n});\n\nvar Sidebar = function Sidebar(props) {\n  var _useState = useState(function () {\n    return initOpenRoutes(props.location);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      openRoutes = _useState2[0],\n      setOpenRoutes = _useState2[1];\n\n  var toggle = function toggle(index) {\n    // Collapse all elements\n    Object.keys(openRoutes).forEach(function (item) {\n      return openRoutes[index] || setOpenRoutes(function (openRoutes) {\n        return Object.assign({}, openRoutes, _defineProperty({}, item, false));\n      });\n    }); // Toggle selected element\n\n    setOpenRoutes(function (openRoutes) {\n      return Object.assign({}, openRoutes, _defineProperty({}, index, !openRoutes[index]));\n    });\n  };\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userInfo = _useState4[0],\n      setUserInfo = _useState4[1];\n\n  useEffect(function () {\n    var getUserProfile = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return UserApi.getProfile();\n\n              case 3:\n                result = _context.sent;\n                setUserInfo(result);\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0); // TODO notification\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function getUserProfile() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    getUserProfile();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"sidebar\" + (!props.sidebar.isOpen ? \" toggled\" : \"\") + (props.sidebar.isSticky ? \" sidebar-sticky\" : \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PerfectScrollbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"sidebar-brand\",\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faLaptopMedical,\n    className: \"align-middle text-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Medice Equipment\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sidebar-nav\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, routes.map(function (category, index) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, category.header ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"sidebar-header\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, category.header) : null, category.children ? /*#__PURE__*/React.createElement(SidebarCategory, {\n      name: category.name,\n      badgeColor: category.badgeColor,\n      badgeText: category.badgeText,\n      icon: category.icon,\n      to: category.path,\n      isOpen: openRoutes[index],\n      onClick: function onClick() {\n        return toggle(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, category.children.map(function (route, index) {\n      return /*#__PURE__*/React.createElement(SidebarItem, {\n        key: index,\n        name: route.name,\n        to: route.path,\n        badgeColor: route.badgeColor,\n        badgeText: route.badgeText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      });\n    })) : /*#__PURE__*/React.createElement(SidebarItem, {\n      name: category.name,\n      to: category.path,\n      icon: category.icon,\n      badgeColor: category.badgeColor,\n      badgeText: category.badgeText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }));\n  })), !props.layout.isBoxed && !props.sidebar.isSticky ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-bottom d-none d-lg-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded-circle mr-3\",\n    src: userInfo.avatarUrl ? \"http://127.0.0.1:8887/Avatar/\".concat(userInfo.avatarUrl) : avatar,\n    alt: userInfo.firstName + \" \" + userInfo.lastName,\n    width: \"40\",\n    height: \"40\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }, userInfo.firstName + \" \" + userInfo.lastName), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircle,\n    className: \"text-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }), \" \", \"Online\")))) : null)));\n};\n\nvar mapGlobalStateToProps = function mapGlobalStateToProps(state) {\n  return {\n    sidebar: state.sidebar,\n    layout: state.layout\n  };\n};\n\nexport default withRouter(connect(mapGlobalStateToProps)(Sidebar));","map":{"version":3,"sources":["E:/Đồ án web/Project Web Đồ Án bản cuối/codeguidi/codeguidi/Frontend/src/components/Sidebar.js"],"names":["React","useEffect","useState","connect","NavLink","withRouter","Badge","Collapse","PerfectScrollbar","FontAwesomeIcon","faCircle","faLaptopMedical","routes","avatar","selectFullname","UserApi","initOpenRoutes","location","pathName","pathname","_routes","forEach","route","index","isActive","indexOf","path","isOpen","open","isHome","containsHome","Object","assign","SidebarCategory","name","badgeColor","badgeText","Icon","icon","children","onClick","to","getSidebarItemClass","SidebarItem","Sidebar","props","openRoutes","setOpenRoutes","toggle","keys","item","userInfo","setUserInfo","getUserProfile","getProfile","result","console","log","sidebar","isSticky","map","category","header","layout","isBoxed","avatarUrl","firstName","lastName","mapGlobalStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { Badge, Collapse } from \"reactstrap\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCircle, faLaptopMedical } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport routes from \"../routes/index\";\r\nimport avatar from \"../assets/img/avatars/avatar.jpg\";\r\nimport { selectFullname } from \"../redux/selectors/userLoginInfoSelector\";\r\nimport UserApi from \"../api/UserApi\";\r\n\r\nconst initOpenRoutes = (location) => {\r\n  /* Open collapse element that matches current url */\r\n  const pathName = location.pathname;\r\n\r\n  let _routes = {};\r\n\r\n  routes.forEach((route, index) => {\r\n    const isActive = pathName.indexOf(route.path) === 0;\r\n    const isOpen = route.open;\r\n    const isHome = route.containsHome && pathName === \"/\" ? true : false;\r\n\r\n    _routes = Object.assign({}, _routes, {\r\n      [index]: isActive || isOpen || isHome,\r\n    });\r\n  });\r\n\r\n  return _routes;\r\n};\r\n\r\nconst SidebarCategory = withRouter(\r\n  ({\r\n    name,\r\n    badgeColor,\r\n    badgeText,\r\n    icon: Icon,\r\n    isOpen,\r\n    children,\r\n    onClick,\r\n    location,\r\n    to,\r\n  }) => {\r\n    const getSidebarItemClass = (path) => {\r\n      return location.pathname.indexOf(path) !== -1 ||\r\n        (location.pathname === \"/\" && path === \"/dashboard\")\r\n        ? \"active\"\r\n        : \"\";\r\n    };\r\n\r\n    return (\r\n      <li className={\"sidebar-item \" + getSidebarItemClass(to)}>\r\n        <span\r\n          data-toggle=\"collapse\"\r\n          className={\"sidebar-link \" + (!isOpen ? \"collapsed\" : \"\")}\r\n          onClick={onClick}\r\n          aria-expanded={isOpen ? \"true\" : \"false\"}\r\n        >\r\n          <Icon size={18} className=\"align-middle mr-3\" />\r\n          <span className=\"align-middle\">{name}</span>\r\n          {badgeColor && badgeText ? (\r\n            <Badge color={badgeColor} size={18} className=\"sidebar-badge\">\r\n              {badgeText}\r\n            </Badge>\r\n          ) : null}\r\n        </span>\r\n        <Collapse isOpen={isOpen}>\r\n          <ul id=\"item\" className={\"sidebar-dropdown list-unstyled\"}>\r\n            {children}\r\n          </ul>\r\n        </Collapse>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nconst SidebarItem = withRouter(\r\n  ({ name, badgeColor, badgeText, icon: Icon, location, to }) => {\r\n    const getSidebarItemClass = (path) => {\r\n      return location.pathname === path ? \"active\" : \"\";\r\n    };\r\n\r\n    return (\r\n      <li className={\"sidebar-item \" + getSidebarItemClass(to)}>\r\n        <NavLink to={to} className=\"sidebar-link\" activeClassName=\"active\">\r\n          {Icon ? <Icon size={18} className=\"align-middle mr-3\" /> : null}\r\n          {name}\r\n          {badgeColor && badgeText ? (\r\n            <Badge color={badgeColor} size={18} className=\"sidebar-badge\">\r\n              {badgeText}\r\n            </Badge>\r\n          ) : null}\r\n        </NavLink>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nconst Sidebar = (props) => {\r\n  const [openRoutes, setOpenRoutes] = useState(() =>\r\n    initOpenRoutes(props.location)\r\n  );\r\n\r\n  const toggle = (index) => {\r\n    // Collapse all elements\r\n    Object.keys(openRoutes).forEach(\r\n      (item) =>\r\n        openRoutes[index] ||\r\n        setOpenRoutes((openRoutes) =>\r\n          Object.assign({}, openRoutes, { [item]: false })\r\n        )\r\n    );\r\n\r\n    // Toggle selected element\r\n    setOpenRoutes((openRoutes) =>\r\n      Object.assign({}, openRoutes, { [index]: !openRoutes[index] })\r\n    );\r\n  };\r\n\r\n  const [userInfo, setUserInfo] = useState({});\r\n  useEffect(() => {\r\n    const getUserProfile = async () => {\r\n      try {\r\n        const result = await UserApi.getProfile();\r\n        setUserInfo(result);\r\n      } catch (error) {\r\n        console.log(error);\r\n        // TODO notification\r\n      }\r\n    };\r\n\r\n    getUserProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <nav\r\n      className={\r\n        \"sidebar\" +\r\n        (!props.sidebar.isOpen ? \" toggled\" : \"\") +\r\n        (props.sidebar.isSticky ? \" sidebar-sticky\" : \"\")\r\n      }\r\n    >\r\n      <div className=\"sidebar-content\">\r\n        <PerfectScrollbar>\r\n          <a className=\"sidebar-brand\" href=\"/\">\r\n            <FontAwesomeIcon\r\n              icon={faLaptopMedical}\r\n              className=\"align-middle text-primary\"\r\n            />{\" \"}\r\n            <span className=\"align-middle\">Medice Equipment</span>\r\n          </a>\r\n\r\n          <ul className=\"sidebar-nav\">\r\n            {routes.map((category, index) => {\r\n              return (\r\n                <React.Fragment key={index}>\r\n                  {category.header ? (\r\n                    <li className=\"sidebar-header\">{category.header}</li>\r\n                  ) : null}\r\n\r\n                  {category.children ? (\r\n                    <SidebarCategory\r\n                      name={category.name}\r\n                      badgeColor={category.badgeColor}\r\n                      badgeText={category.badgeText}\r\n                      icon={category.icon}\r\n                      to={category.path}\r\n                      isOpen={openRoutes[index]}\r\n                      onClick={() => toggle(index)}\r\n                    >\r\n                      {category.children.map((route, index) => (\r\n                        <SidebarItem\r\n                          key={index}\r\n                          name={route.name}\r\n                          to={route.path}\r\n                          badgeColor={route.badgeColor}\r\n                          badgeText={route.badgeText}\r\n                        />\r\n                      ))}\r\n                    </SidebarCategory>\r\n                  ) : (\r\n                    <SidebarItem\r\n                      name={category.name}\r\n                      to={category.path}\r\n                      icon={category.icon}\r\n                      badgeColor={category.badgeColor}\r\n                      badgeText={category.badgeText}\r\n                    />\r\n                  )}\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </ul>\r\n\r\n          {!props.layout.isBoxed && !props.sidebar.isSticky ? (\r\n            <div className=\"sidebar-bottom d-none d-lg-block\">\r\n              <div className=\"media\">\r\n                <img\r\n                  className=\"rounded-circle mr-3\"\r\n                  src={\r\n                    userInfo.avatarUrl\r\n                      ? `http://127.0.0.1:8887/Avatar/${userInfo.avatarUrl}`\r\n                      : avatar\r\n                  }\r\n                  alt={userInfo.firstName + \" \" + userInfo.lastName}\r\n                  width=\"40\"\r\n                  height=\"40\"\r\n                />\r\n                <div className=\"media-body\">\r\n                  <h5 className=\"mb-1\">\r\n                    {userInfo.firstName + \" \" + userInfo.lastName}\r\n                  </h5>\r\n                  <div>\r\n                    <FontAwesomeIcon icon={faCircle} className=\"text-success\" />{\" \"}\r\n                    Online\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </PerfectScrollbar>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapGlobalStateToProps = (state) => {\r\n  return {\r\n    sidebar: state.sidebar,\r\n    layout: state.layout,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapGlobalStateToProps)(Sidebar));\r\n"]},"metadata":{},"sourceType":"module"}