{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\src\\\\pages\\\\inventoryManage\\\\createdInventoryForm.js\";\n\nimport React from \"react\";\nimport { Button, Card, CardBody, FormGroup } from \"reactstrap\";\nimport { Formik, FastField, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { ReactstrapInput } from \"reactstrap-formik\";\nimport Storage from \"../../Storage/Storage\";\nimport { toastr } from \"react-redux-toastr\";\nimport InventoryApi from \"../../api/InventoryApi.js\";\n\nvar CreateInventoryForm = function CreateInventoryForm(props) {\n  var showSuccessNotification = function showSuccessNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    }; // show notification\n\n    toastr.success(title, message, options);\n  };\n\n  var showErrorNotification = function showErrorNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: true,\n      position: \"top-right\"\n    };\n    toastr.error(title, message, options);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      equipmentId: \"\",\n      equipmentName: \"\",\n      classify: \"\",\n      description: \"\",\n      brand: \"\",\n      staffName: Storage.getUserInfo().firstName + \" \" + Storage.getUserInfo().lastName,\n      insurance: \"\",\n      unitPrice: \"\",\n      quantity: \"\"\n    },\n    validationSchema: Yup.object({\n      equipmentId: Yup.string().max(20, \"Must be less than 20 characters or equal\").required(\"Required\").test(\"checkUniqueEquipmentId\", \"This equipmentId is already exists.\", /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(equipmentId) {\n          var isExists;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return InventoryApi.existsByEquipmentId(equipmentId);\n\n                case 2:\n                  isExists = _context.sent;\n                  return _context.abrupt(\"return\", !isExists);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()),\n      equipmentName: Yup.string().max(50, \"Must be less than 100 characters or equal\").required(\"Required\").test(\"checkUniqueEquipmentName\", \"This equipmentName is already exists.\", /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(equipmentName) {\n          var isExists;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return InventoryApi.existsByEquipmentName(equipmentName);\n\n                case 2:\n                  isExists = _context2.sent;\n                  return _context2.abrupt(\"return\", !isExists);\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }()),\n      classify: Yup.string().max(5, \"Must be lessthan 5 characters \").required(\"Required\"),\n      description: Yup.string().max(100, \"Must be lessthan 100 characters \").required(\"Required\"),\n      brand: Yup.string().max(50, \"Must be lessthan 50 characters \").required(\"Required\"),\n      staffName: Yup.string().max(50, \"Must be lessthan 50 characters \").required(\"Required\"),\n      insurance: Yup.string().max(20, \"Must be lessthan 20characters \").required(\"Required\"),\n      unitPrice: Yup.string().max(50, \"Must be lessthan 50 characters \").required(\"Required\"),\n      quantity: Yup.string().max(20, \"Must be lessthan 20 characters \").required(\"Required\")\n    }),\n    onSubmit: /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(values, _ref3) {\n        var setFieldError, result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setFieldError = _ref3.setFieldError;\n                _context3.prev = 1;\n                _context3.next = 4;\n                return InventoryApi.create(values.equipmentId, values.equipmentName, values.classify, values.description, values.brand, values.staffName, values.insurance, values.unitPrice, values.quantity);\n\n              case 4:\n                result = _context3.sent;\n\n                if (result == \"success\") {\n                  showSuccessNotification(\"Nhập kho thiết bị \", \">>> Thành công\");\n                } else {\n                  showErrorNotification(\"Nhập kho thiết bị \", \">>> Thất bại\");\n                }\n\n                window.location.reload();\n                _context3.next = 13;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](1);\n                setFieldError(\"errorForm\", \"There is an error from the server\");\n                console.log(_context3.t0);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[1, 9]]);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    validateOnChange: false,\n    validateOnBlur: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, function (_ref5) {\n    var isSubmitting = _ref5.isSubmitting;\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m-sm-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"M\\xE3 thi\\u1EBFt b\\u1ECB\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"equipmentId\",\n      placeholder: \"\\u0110i\\u1EC1n v\\xE0o m\\xE3 thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"T\\xEAn thi\\u1EBFt b\\u1ECB\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"equipmentName\",\n      placeholder: \"\\u0110i\\u1EC1n v\\xE0o t\\xEAn thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"Ph\\xE2n lo\\u1EA1i thi\\u1EBFt b\\u1ECB\",\n      name: \"classify\",\n      placeholder: \"Ph\\xE2n lo\\u1EA1i thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"M\\xF4 t\\u1EA3 thi\\u1EBFt b\\u1ECB\",\n      name: \"description\",\n      placeholder: \"M\\xF4 t\\u1EA3 thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"Th\\u01B0\\u01A1ng hi\\u1EC7u\",\n      name: \"brand\",\n      placeholder: \"Th\\u01B0\\u01A1ng hi\\u1EC7u\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"Nh\\xE2n vi\\xEAn qu\\u1EA3n l\\xFD\",\n      name: \"staffName\",\n      readonly: \"readonly\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      bsSize: \"sm\",\n      type: \"text\",\n      label: \"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh\",\n      name: \"insurance\",\n      placeholder: \"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"\\u0110\\u01A1n gi\\xE1\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"unitPrice\",\n      placeholder: \"\\u0110\\u01A1n gi\\xE1 thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n      bsSize: \"sm\",\n      type: \"text\",\n      name: \"quantity\",\n      placeholder: \"S\\u1ED1 l\\u01B0\\u1EE3ng thi\\u1EBFt b\\u1ECB\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: \"errorForm\",\n      component: \"div\",\n      className: \"invalid-feedback\",\n      style: {\n        display: \"block\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: \"right\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      size: \"sm\",\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, \"Th\\xEAm thi\\u1EBFt b\\u1ECB\"), \" \", /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      size: \"sm\",\n      onClick: props.closeModal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\xF3ng\"))))));\n  }));\n};\n\nexport default CreateInventoryForm;","map":{"version":3,"sources":["E:/Đồ án web/Project Web Đồ Án bản cuối/codeguidi/codeguidi/Frontend/src/pages/inventoryManage/createdInventoryForm.js"],"names":["React","Button","Card","CardBody","FormGroup","Formik","FastField","Form","ErrorMessage","Yup","ReactstrapInput","Storage","toastr","InventoryApi","CreateInventoryForm","props","showSuccessNotification","title","message","options","timeOut","showCloseButton","progressBar","position","success","showErrorNotification","error","equipmentId","equipmentName","classify","description","brand","staffName","getUserInfo","firstName","lastName","insurance","unitPrice","quantity","object","string","max","required","test","existsByEquipmentId","isExists","existsByEquipmentName","values","setFieldError","create","result","window","location","reload","console","log","isSubmitting","display","float","closeModal"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Card, CardBody, FormGroup } from \"reactstrap\";\r\nimport { Formik, FastField, Form, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { ReactstrapInput } from \"reactstrap-formik\";\r\nimport Storage from \"../../Storage/Storage\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport InventoryApi from \"../../api/InventoryApi.js\";\r\nconst CreateInventoryForm = (props) => {\r\n  const showSuccessNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: false,\r\n      position: \"top-right\",\r\n    };\r\n    // show notification\r\n    toastr.success(title, message, options);\r\n  };\r\n  const showErrorNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: true,\r\n      position: \"top-right\",\r\n    };\r\n    toastr.error(title, message, options);\r\n  };\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          equipmentId: \"\",\r\n          equipmentName: \"\",\r\n          classify: \"\",\r\n          description: \"\",\r\n          brand: \"\",\r\n          staffName:\r\n            Storage.getUserInfo().firstName +\r\n            \" \" +\r\n            Storage.getUserInfo().lastName,\r\n\r\n          insurance: \"\",\r\n          unitPrice: \"\",\r\n          quantity: \"\",\r\n        }}\r\n        validationSchema={Yup.object({\r\n          equipmentId: Yup.string()\r\n            .max(20, \"Must be less than 20 characters or equal\")\r\n            .required(\"Required\")\r\n            .test(\r\n              \"checkUniqueEquipmentId\",\r\n              \"This equipmentId is already exists.\",\r\n              async (equipmentId) => {\r\n                const isExists = await InventoryApi.existsByEquipmentId(\r\n                  equipmentId\r\n                );\r\n                return !isExists;\r\n              }\r\n            ),\r\n\r\n          equipmentName: Yup.string()\r\n            .max(50, \"Must be less than 100 characters or equal\")\r\n            .required(\"Required\")\r\n            .test(\r\n              \"checkUniqueEquipmentName\",\r\n              \"This equipmentName is already exists.\",\r\n              async (equipmentName) => {\r\n                const isExists = await InventoryApi.existsByEquipmentName(\r\n                  equipmentName\r\n                );\r\n                return !isExists;\r\n              }\r\n            ),\r\n          classify: Yup.string()\r\n            .max(5, \"Must be lessthan 5 characters \")\r\n            .required(\"Required\"),\r\n          description: Yup.string()\r\n            .max(100, \"Must be lessthan 100 characters \")\r\n            .required(\"Required\"),\r\n          brand: Yup.string()\r\n            .max(50, \"Must be lessthan 50 characters \")\r\n            .required(\"Required\"),\r\n          staffName: Yup.string()\r\n            .max(50, \"Must be lessthan 50 characters \")\r\n            .required(\"Required\"),\r\n          insurance: Yup.string()\r\n            .max(20, \"Must be lessthan 20characters \")\r\n            .required(\"Required\"),\r\n          unitPrice: Yup.string()\r\n            .max(50, \"Must be lessthan 50 characters \")\r\n            .required(\"Required\"),\r\n          quantity: Yup.string()\r\n            .max(20, \"Must be lessthan 20 characters \")\r\n            .required(\"Required\"),\r\n        })}\r\n        onSubmit={async (values, { setFieldError }) => {\r\n          try {\r\n            /// call api\r\n            const result = await InventoryApi.create(\r\n              values.equipmentId,\r\n              values.equipmentName,\r\n              values.classify,\r\n              values.description,\r\n              values.brand,\r\n              values.staffName,\r\n              values.insurance,\r\n              values.unitPrice,\r\n              values.quantity\r\n            );\r\n            if (result == \"success\") {\r\n              showSuccessNotification(\"Nhập kho thiết bị \", \">>> Thành công\");\r\n            } else {\r\n              showErrorNotification(\"Nhập kho thiết bị \", \">>> Thất bại\");\r\n            }\r\n\r\n            window.location.reload();\r\n          } catch (error) {\r\n            setFieldError(\"errorForm\", \"There is an error from the server\");\r\n            console.log(error);\r\n          }\r\n        }}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Card>\r\n            <CardBody>\r\n              <div className=\"m-sm-4\">\r\n                <Form>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Mã thiết bị\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"equipmentId\"\r\n                      placeholder=\"Điền vào mã thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Tên thiết bị\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"equipmentName\"\r\n                      placeholder=\"Điền vào tên thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Phân loại thiết bị\"\r\n                      name=\"classify\"\r\n                      placeholder=\"Phân loại thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Mô tả thiết bị\"\r\n                      name=\"description\"\r\n                      placeholder=\"Mô tả thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Thương hiệu\"\r\n                      name=\"brand\"\r\n                      placeholder=\"Thương hiệu\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Nhân viên quản lý\"\r\n                      name=\"staffName\"\r\n                      readonly=\"readonly\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      label=\"Thời hạn bảo hành\"\r\n                      name=\"insurance\"\r\n                      placeholder=\"Thời hạn bảo hành\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Đơn giá\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"unitPrice\"\r\n                      placeholder=\"Đơn giá thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup>\r\n                    <FastField\r\n                      label=\"Số lượng\"\r\n                      bsSize=\"sm\"\r\n                      type=\"text\"\r\n                      name=\"quantity\"\r\n                      placeholder=\"Số lượng thiết bị\"\r\n                      component={ReactstrapInput}\r\n                    />\r\n                  </FormGroup>\r\n                  <ErrorMessage\r\n                    name=\"errorForm\"\r\n                    component={\"div\"}\r\n                    className=\"invalid-feedback\"\r\n                    style={{ display: \"block\" }}\r\n                  />\r\n\r\n                  <div style={{ float: \"right\" }}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      color=\"primary\"\r\n                      size=\"sm\"\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Thêm thiết bị\r\n                    </Button>{\" \"}\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"sm\"\r\n                      onClick={props.closeModal}\r\n                    >\r\n                      Đóng\r\n                    </Button>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateInventoryForm;\r\n"]},"metadata":{},"sourceType":"module"}