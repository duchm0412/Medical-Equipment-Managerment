{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\\\u0110\\u1ED3 \\xE1n web\\\\Project Web \\u0110\\u1ED3 \\xC1n b\\u1EA3n cu\\u1ED1i\\\\codeguidi\\\\codeguidi\\\\Frontend\\\\src\\\\pages\\\\inventoryManage\\\\tranferEquipment.js\";\n\nimport React from \"react\";\nimport { Button } from \"reactstrap\";\nimport { toastr } from \"react-redux-toastr\";\nimport Table from \"reactstrap/lib/Table\";\nimport DeartmentApi from \"../../api/DepartmentApi\";\nimport Select from \"react-select\";\nimport EquipmentApi from \"../../api/EquipmentApi\";\nimport InventoryApi from \"../../api/InventoryApi\";\n\nvar TranferEquipmentModal = function TranferEquipmentModal(props) {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      departmentId = _React$useState2[0],\n      setdepartmentId = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      departmentName = _React$useState4[0],\n      setdepartmentName = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      option = _React$useState6[0],\n      setOptions = _React$useState6[1];\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      equipmentId = _React$useState8[0],\n      setequipmentId = _React$useState8[1];\n\n  var _React$useState9 = React.useState(),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      equipmentName = _React$useState10[0],\n      setequipmentName = _React$useState10[1];\n\n  var _React$useState11 = React.useState(),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      classify = _React$useState12[0],\n      setclassify = _React$useState12[1];\n\n  var _React$useState13 = React.useState(),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      description = _React$useState14[0],\n      setdescription = _React$useState14[1];\n\n  var _React$useState15 = React.useState(),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      brand = _React$useState16[0],\n      setbrand = _React$useState16[1];\n\n  var _React$useState17 = React.useState(),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      staffName = _React$useState18[0],\n      setstaffName = _React$useState18[1];\n\n  var _React$useState19 = React.useState(),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      insurance = _React$useState20[0],\n      setinsurance = _React$useState20[1];\n\n  var _React$useState21 = React.useState(),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      quantity = _React$useState22[0],\n      setquantity = _React$useState22[1];\n\n  var _React$useState23 = React.useState(),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      unitPrice = _React$useState24[0],\n      setunitPrice = _React$useState24[1];\n\n  React.useEffect(function () {\n    var getAllInventory = function getAllInventory() {\n      setequipmentId(sessionStorage.getItem(\"equipmentId\"));\n      setequipmentName(sessionStorage.getItem(\"equipmentName\"));\n      setclassify(sessionStorage.getItem(\"classify\"));\n      setdescription(sessionStorage.getItem(\"description\"));\n      setbrand(sessionStorage.getItem(\"brand\"));\n      setstaffName(sessionStorage.getItem(\"staffName\"));\n      setinsurance(sessionStorage.getItem(\"insurance\"));\n      setquantity(sessionStorage.getItem(\"quantity\"));\n      setunitPrice(sessionStorage.getItem(\"unitPrice\"));\n    };\n\n    console.log(insurance);\n    getAllInventory();\n  }, []);\n\n  var showSuccessNotification = function showSuccessNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    }; // show notification\n\n    toastr.success(title, message, options);\n  };\n\n  var showErrorNotification = function showErrorNotification(title, message) {\n    var options = {\n      timeOut: 2500,\n      showCloseButton: false,\n      progressBar: true,\n      position: \"top-right\"\n    };\n    toastr.error(title, message, options);\n  };\n\n  var getDepartment = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result, data, options;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return DeartmentApi.getAll(0, 100);\n\n            case 2:\n              result = _context.sent;\n              data = result.content;\n              options = data.map(function (d) {\n                return {\n                  value: \"\".concat(d.departmentId),\n                  label: \"\".concat(d.departmentName)\n                };\n              });\n              setOptions(options);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getDepartment() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var setQuantity = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(sessionStorage.getItem(\"quantity\") == 1)) {\n                _context2.next = 11;\n                break;\n              }\n\n              _context2.prev = 1;\n              _context2.next = 4;\n              return InventoryApi.deleteById(sessionStorage.getItem(\"equipmentId\"));\n\n            case 4:\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n\n            case 9:\n              _context2.next = 20;\n              break;\n\n            case 11:\n              if (!(sessionStorage.getItem(\"quantity\") != 1)) {\n                _context2.next = 20;\n                break;\n              }\n\n              _context2.prev = 12;\n              _context2.next = 15;\n              return InventoryApi.setQuantity(sessionStorage.getItem(\"equipmentId\"), sessionStorage.getItem(\"equipmentId\") - 1);\n\n            case 15:\n              _context2.next = 20;\n              break;\n\n            case 17:\n              _context2.prev = 17;\n              _context2.t1 = _context2[\"catch\"](12);\n              console.log(_context2.t1);\n\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 6], [12, 17]]);\n    }));\n\n    return function setQuantity() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var equipmentStatus;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              equipmentStatus = \"READY\";\n              _context3.prev = 1;\n\n              if (!(departmentId != null)) {\n                _context3.next = 30;\n                break;\n              }\n\n              _context3.next = 5;\n              return EquipmentApi.intoDepartment(equipmentId, equipmentName, classify, description, brand, staffName, insurance, unitPrice, quantity, departmentId);\n\n            case 5:\n              _context3.next = 7;\n              return EquipmentApi.create(equipmentId, equipmentName, classify, description, brand, staffName, insurance, equipmentStatus);\n\n            case 7:\n              if (!(sessionStorage.getItem(\"quantity\") == 1)) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.prev = 8;\n              _context3.next = 11;\n              return InventoryApi.deleteById(sessionStorage.getItem(\"equipmentId\"));\n\n            case 11:\n              _context3.next = 16;\n              break;\n\n            case 13:\n              _context3.prev = 13;\n              _context3.t0 = _context3[\"catch\"](8);\n              console.log(_context3.t0);\n\n            case 16:\n              _context3.next = 27;\n              break;\n\n            case 18:\n              if (!(sessionStorage.getItem(\"quantity\") != 1)) {\n                _context3.next = 27;\n                break;\n              }\n\n              _context3.prev = 19;\n              _context3.next = 22;\n              return InventoryApi.setQuantity(sessionStorage.getItem(\"equipmentId\"), sessionStorage.getItem(\"quantity\") - 1);\n\n            case 22:\n              _context3.next = 27;\n              break;\n\n            case 24:\n              _context3.prev = 24;\n              _context3.t1 = _context3[\"catch\"](19);\n              console.log(_context3.t1);\n\n            case 27:\n              showSuccessNotification(\"Điều chuyển thiết bị\", \">>> Thành công\");\n              _context3.next = 31;\n              break;\n\n            case 30:\n              showErrorNotification(\"Điều chuyển thiết bị\", \">>> Thất bại\");\n\n            case 31:\n              window.location.reload();\n              _context3.next = 37;\n              break;\n\n            case 34:\n              _context3.prev = 34;\n              _context3.t2 = _context3[\"catch\"](1);\n              console.log(_context3.t2);\n\n            case 37:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 34], [8, 13], [19, 24]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleChange = function handleChange(e) {\n    setdepartmentId(e.value);\n    setdepartmentName(e.label);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    style: {\n      marginTop: \"50px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"\\u0110i\\u1EC1u ph\\u1ED1i thi\\u1EBFt b\\u1ECB\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"500px\",\n      height: \"700px\",\n      padding: \"50px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, \"M\\xE3 thi\\u1EBFt b\\u1ECB : \"), sessionStorage.getItem(\"equipmentId\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, \"T\\xEAn thi\\u1EBFt b\\u1ECB :\"), sessionStorage.getItem(\"equipmentName\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, \"Ph\\xE2n lo\\u1EA1i : \"), sessionStorage.getItem(\"classify\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, \"M\\xF4 t\\u1EA3 : \"), sessionStorage.getItem(\"description\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"Th\\u01B0\\u01A1ng hi\\u1EC7u : \"), sessionStorage.getItem(\"brand\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, \"Nh\\xE2n vi\\xEAn qu\\u1EA3n l\\xFD :\"), sessionStorage.getItem(\"staffName\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, \"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh : \"), sessionStorage.getItem(\"insurance\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"\\u0110\\u01A1n gi\\xE1 : \"), sessionStorage.getItem(\"unitPrice\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, \"S\\u1ED1 l\\u01B0\\u1EE3ng : \"), sessionStorage.getItem(\"quantity\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, \"L\\u1EF1a ch\\u1ECDn ph\\xF2ng ban \\u0111\\u01B0\\u1EE3c chuy\\u1EC3n \\u0111\\u1EBFn : \"), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: function onClick() {\n      return getDepartment();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    options: option,\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      float: \"right\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"warning\",\n    size: \"sm\",\n    onClick: function onClick() {\n      return handleSubmit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, \"\\u0110i\\u1EC1u ph\\u1ED1i ngay\"), \" \", /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"sm\",\n    onClick: props.closeModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\xF3ng\"))));\n};\n\nexport default TranferEquipmentModal;","map":{"version":3,"sources":["E:/Đồ án web/Project Web Đồ Án bản cuối/codeguidi/codeguidi/Frontend/src/pages/inventoryManage/tranferEquipment.js"],"names":["React","Button","toastr","Table","DeartmentApi","Select","EquipmentApi","InventoryApi","TranferEquipmentModal","props","useState","departmentId","setdepartmentId","departmentName","setdepartmentName","option","setOptions","equipmentId","setequipmentId","equipmentName","setequipmentName","classify","setclassify","description","setdescription","brand","setbrand","staffName","setstaffName","insurance","setinsurance","quantity","setquantity","unitPrice","setunitPrice","useEffect","getAllInventory","sessionStorage","getItem","console","log","showSuccessNotification","title","message","options","timeOut","showCloseButton","progressBar","position","success","showErrorNotification","error","getDepartment","getAll","result","data","content","map","d","value","label","setQuantity","deleteById","handleSubmit","equipmentStatus","intoDepartment","create","window","location","reload","handleChange","e","marginTop","width","height","padding","float","closeModal"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport Table from \"reactstrap/lib/Table\";\r\nimport DeartmentApi from \"../../api/DepartmentApi\";\r\nimport Select from \"react-select\";\r\nimport EquipmentApi from \"../../api/EquipmentApi\";\r\nimport InventoryApi from \"../../api/InventoryApi\";\r\nconst TranferEquipmentModal = (props) => {\r\n  const [departmentId, setdepartmentId] = React.useState();\r\n  const [departmentName, setdepartmentName] = React.useState();\r\n  const [option, setOptions] = React.useState([]);\r\n  const [equipmentId, setequipmentId] = React.useState();\r\n  const [equipmentName, setequipmentName] = React.useState();\r\n  const [classify, setclassify] = React.useState();\r\n  const [description, setdescription] = React.useState();\r\n  const [brand, setbrand] = React.useState();\r\n  const [staffName, setstaffName] = React.useState();\r\n  const [insurance, setinsurance] = React.useState();\r\n  const [quantity, setquantity] = React.useState();\r\n  const [unitPrice, setunitPrice] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    const getAllInventory = () => {\r\n      setequipmentId(sessionStorage.getItem(\"equipmentId\"));\r\n      setequipmentName(sessionStorage.getItem(\"equipmentName\"));\r\n      setclassify(sessionStorage.getItem(\"classify\"));\r\n      setdescription(sessionStorage.getItem(\"description\"));\r\n      setbrand(sessionStorage.getItem(\"brand\"));\r\n      setstaffName(sessionStorage.getItem(\"staffName\"));\r\n      setinsurance(sessionStorage.getItem(\"insurance\"));\r\n      setquantity(sessionStorage.getItem(\"quantity\"));\r\n      setunitPrice(sessionStorage.getItem(\"unitPrice\"));\r\n    };\r\n    console.log(insurance);\r\n    getAllInventory();\r\n  }, []);\r\n  const showSuccessNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: false,\r\n      position: \"top-right\",\r\n    };\r\n    // show notification\r\n    toastr.success(title, message, options);\r\n  };\r\n  const showErrorNotification = (title, message) => {\r\n    const options = {\r\n      timeOut: 2500,\r\n      showCloseButton: false,\r\n      progressBar: true,\r\n      position: \"top-right\",\r\n    };\r\n    toastr.error(title, message, options);\r\n  };\r\n  const getDepartment = async () => {\r\n    const result = await DeartmentApi.getAll(0, 100);\r\n    const data = result.content;\r\n    const options = data.map((d) => ({\r\n      value: `${d.departmentId}`,\r\n      label: `${d.departmentName}`,\r\n    }));\r\n    setOptions(options);\r\n  };\r\n  const setQuantity = async () => {\r\n    if (sessionStorage.getItem(\"quantity\") == 1) {\r\n      try {\r\n        await InventoryApi.deleteById(sessionStorage.getItem(\"equipmentId\"));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else if (sessionStorage.getItem(\"quantity\") != 1)\r\n      try {\r\n        await InventoryApi.setQuantity(\r\n          sessionStorage.getItem(\"equipmentId\"),\r\n          sessionStorage.getItem(\"equipmentId\") - 1\r\n        );\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n  };\r\n  const handleSubmit = async () => {\r\n    const equipmentStatus = \"READY\";\r\n    try {\r\n      if (departmentId != null) {\r\n        await EquipmentApi.intoDepartment(\r\n          equipmentId,\r\n          equipmentName,\r\n          classify,\r\n          description,\r\n          brand,\r\n          staffName,\r\n          insurance,\r\n          unitPrice,\r\n          quantity,\r\n          departmentId\r\n        );\r\n        await EquipmentApi.create(\r\n          equipmentId,\r\n          equipmentName,\r\n          classify,\r\n          description,\r\n          brand,\r\n          staffName,\r\n          insurance,\r\n          equipmentStatus\r\n        );\r\n        if (sessionStorage.getItem(\"quantity\") == 1) {\r\n          try {\r\n            await InventoryApi.deleteById(\r\n              sessionStorage.getItem(\"equipmentId\")\r\n            );\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        } else if (sessionStorage.getItem(\"quantity\") != 1)\r\n          try {\r\n            await InventoryApi.setQuantity(\r\n              sessionStorage.getItem(\"equipmentId\"),\r\n              sessionStorage.getItem(\"quantity\") - 1\r\n            );\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        showSuccessNotification(\"Điều chuyển thiết bị\", \">>> Thành công\");\r\n      } else {\r\n        showErrorNotification(\"Điều chuyển thiết bị\", \">>> Thất bại\");\r\n      }\r\n\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setdepartmentId(e.value);\r\n    setdepartmentName(e.label);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"text-center\" style={{ marginTop: \"50px\" }}>\r\n        <Button color=\"danger\" size=\"lg\">\r\n          Điều phối thiết bị\r\n        </Button>\r\n      </div>\r\n      <div style={{ width: \"500px\", height: \"700px\", padding: \"50px\" }}>\r\n        <b>Mã thiết bị : </b>\r\n        {sessionStorage.getItem(\"equipmentId\")}\r\n        <br></br>\r\n        <b>Tên thiết bị :</b>\r\n        {sessionStorage.getItem(\"equipmentName\")}\r\n        <br></br>\r\n        <b>Phân loại : </b>\r\n        {sessionStorage.getItem(\"classify\")}\r\n        <br></br>\r\n        <b>Mô tả : </b>\r\n        {sessionStorage.getItem(\"description\")}\r\n        <br></br>\r\n        <b>Thương hiệu : </b>\r\n        {sessionStorage.getItem(\"brand\")}\r\n        <br></br>\r\n        <b>Nhân viên quản lý :</b>\r\n        {sessionStorage.getItem(\"staffName\")}\r\n        <br></br>\r\n        <b>Thời hạn bảo hành : </b>\r\n        {sessionStorage.getItem(\"insurance\")}\r\n        <br></br>\r\n        <b>Đơn giá : </b>\r\n        {sessionStorage.getItem(\"unitPrice\")}\r\n        <br></br>\r\n        <b>Số lượng : </b>\r\n        {sessionStorage.getItem(\"quantity\")}\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n        <b>Lựa chọn phòng ban được chuyển đến : </b>\r\n        <div onClick={() => getDepartment()}>\r\n          <Select options={option} onChange={(e) => handleChange(e)} />\r\n        </div>\r\n\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n\r\n        <div style={{ float: \"right\" }}>\r\n          <Button color=\"warning\" size=\"sm\" onClick={() => handleSubmit()}>\r\n            Điều phối ngay\r\n          </Button>{\" \"}\r\n          <Button color=\"primary\" size=\"sm\" onClick={props.closeModal}>\r\n            Đóng\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default TranferEquipmentModal;\r\n"]},"metadata":{},"sourceType":"module"}